<!DOCTYPE html>
<head>
  <title>Sound Farm</title>

  <link rel="shortcut icon" href="favicon.png"  />
  <link rel="stylesheet" type="text/css" href="/public/css/reset.css">
  <link rel="stylesheet" type="text/css" href="/public/css/custom.css">

  <script type="text/javascript" src="/public/javascripts/build/iscroll-probe.js"></script>

  <script type="text/javascript">

  var myScroll;

  function loaded () {
    if (matchMedia('only screen and (max-device-width: 700px)').matches) {
      myScroll = new IScroll('#wrapper', {
        mouseWheel: false,
        momentum: false,
        probeType: 2});

      myScroll.on('scroll', function() {
        console.log(this.y);
        var dividerHeight = $('.divider').outerHeight();
        var height = $('.page').outerHeight() + $('.divider').outerHeight();
        
        if(this.y > height * -1) {
          $('#recording-page').css('top', this.y + height + dividerHeight);        
          $('#recording').css('top', this.y + height);        
        } else if(this.y > (-2 * height) && this.y < (-1 * height)) {
          $('#mixing-page').css('top', this.y + (height * 2) + dividerHeight);
          $('#mixing').css('top', this.y + (height * 2));
        } else if(this.y > (-3 * height) && this.y < (-2 * height)) {
          $('#gear-page').css('top', this.y + (height * 3) + dividerHeight);
          $('#gear').css('top', this.y + (height * 3));
        } else if(this.y > (-4 * height) && this.y < (-3 * height)) {
          $('#rehearsals-page').css('top', this.y + (height * 4) + dividerHeight);
          $('#rehearsals').css('top', this.y + (height * 4));
        } else if(this.y > (-5 * height) && this.y < (-4 * height)) {
          $('#rental-page').css('top', this.y + (height * 5) + dividerHeight);
          $('#rental').css('top', this.y + (height * 5));
        } else if(this.y > (-6 * height) && this.y < (-5 * height)) {
          $('#webcasts-page').css('top', this.y + (height * 6) + dividerHeight);
          $('#webcasts').css('top', this.y + (height * 6));
        } else if(this.y > (-7 * height) && this.y < (-6 * height)) {
          $('#blog-page').css('top', this.y + (height * 7) + dividerHeight);
          $('#blog').css('top', this.y + (height * 7));
        } else if(this.y > (-8 * height) && this.y < (-7 * height)) {
          $('#about-page').css('top', this.y + (height * 8) + dividerHeight);
          $('#about').css('top', this.y + (height * 8));
        } else if(this.y > (-9 * height) && this.y < (-8 * height)) {
          $('#contact-page').css('top', this.y + (height * 9) + dividerHeight);
          $('#contact').css('top', this.y + (height * 9));
        }
        ;


        // $('#position').html('position: ' + this.y);
        // $('#height').html('height: ' + height);
      });
    };   
  }

  document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
</script>
<!-- <div class="info" id="position"></div>
<div class="info" id="height"></div> -->
</head>